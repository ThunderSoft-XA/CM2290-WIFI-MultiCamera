# Qualcomm® CM2290 Open Kits WIFIMultiCamera-demo Developer documentation

## Introduce

This project relies on CM2290 development kit, and makes use of the diversified and powerful connection capability of development kit. AP WIFI was enabled through HostAPD and UDHCPD tools, and RTSP streaming function was completed through GStreamer and GST-RTSP-Server, enabling us to remotely view the videos captured by onboard cameras on mobile phones after connecting to WIFI.

At present, the development of the Internet of Things is gaining momentum, and there are more and more scenarios that can be applied. I want to remotely check the situation in my home, so I developed this simple project of wifi-multi-camera.

The project was built in x86 host with across complier tool and has been tested in Qualcomm® CM2290 Open Kits.

Qualcomm® CM2290 SoC Open Kits

![CM2290](./res/2290-DK-4-150x150.webp)

## Materials and Tools used for the project

1. Hardware materials

Except for the Open Kits,The following hardware materials are also needed:

* Type-C usb line
using the usb line to develop on Qualcomm® CM2290 SoC Open Kits.

* Charger
Direct power supply for Qualcomm® CM2290 SoC Open Kits.

* 1 x Wifi Antenna
* 2 x OV13B10 Camera


## Environment configuration

This section mainly describes the source and configuration of some open source projects or third-party tools needed in the development process.

gstreamer camera ---->  ffmpeg ----> ZLMediaServer  ----> rstp video stream

### Gstreamer
GStreamer is a library for constructing graphs of media-handling components. The applications it supports range from simple Ogg/Vorbis playback, audio/video streaming to complex audio (mixing) and video (non-linear editing) processing.
url: https://www.yoctoproject.org

### ZLMediaServer
ZLMediaServer is a high-performance operational level streaming media service framework based on C++11.

url: https://github.com/ZLMediaKit/ZLMediaKit

If you want to compile the project in source code, you can clone the entire project and modify zlmediakit_0.1.bb provided by the project to compile it using yocto.We also provide binary executables "MediaServer" generated by compilation in the bin directory.

### FFMPEG4

FFmpeg is a collection of libraries and tools to process multimedia content such as audio, video, subtitles and related metadata.
url: https://www.ffmpeg.org/

In the same way, if you want to compile the project in source code, you can modify ffmpeg4_4.4.1.bb provided by the project to compile it using yocto.We also provide binary executables "ffmpeg4 & ffprobe4" generated by compilation in the bin directory.

### EasyPlayer APP
An free, elegant, simple, fast RTSP/RTMP/HLS/HTTP Player.EasyPlayer support RTSP(RTP over TCP/UDP)version& RTMP version & Pro version，cover all kinds of streaming media！

url: http://app.tsingsee.com/EasyRTSPlayer

## Usage
Start the CM290 and connection CM290 to host by Type-c usb.

1. adb root && adb remount && adb shell mount -o remount,rw /
2. Run ap-wifi.sh on host
3. adb push multi-camera.sh /data/
4. adb shell
5. cd data
6. ./multi-camera.sh
7. Mobile phone connected to wifi(wifi name and password can be found in udhcpd.conf.)
8. Playing camera video rtsp stream by third-party android APK "EasyRTSPlayer"